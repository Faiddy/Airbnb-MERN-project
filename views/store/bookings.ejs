<%- include('../partials/head') %>
</head>
<body>
  <%- include('../partials/nav') %>

  <main class="container mx-auto mt-16">
    <h1 class="text-2xl font-bold text-center mb-6">My Bookings</h1>

    <% if (bookedHomes.length) { %>
      <div class="space-y-4">
        <% bookedHomes.forEach(booking => { %>
          <div class="bg-white p-6 rounded-lg shadow">
            <h2 class="text-xl font-semibold mb-2"><%= booking.home.houseName %></h2>
            <p><strong>From:</strong> <%= booking.dateFrom.toDateString() %></p>
            <p><strong>To:</strong>   <%= booking.dateTo.toDateString() %></p>
            <p><strong>Guests:</strong> <%= booking.fullName %></p>
            <form action="/bookings/cancel/<%= booking._id %>" method="POST" class="mt-2">
              <button type="submit" class="text-red-500 underline">Cancel Booking</button>
            </form>
          </div>
        <% }) %>
      </div>
    <% } else { %>
      <div class="flex items-center justify-center h-64">
      <p class="text-center text-gray-500">You have no bookings yet.</p>
      </div>
    <% } %>
  </main>
</body>
</html>
